generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("POSTGRES_PRISMA_URL") // uses connection pooling
  directUrl = env("POSTGRES_URL_NON_POOLING") // uses a direct connection
}

model MapLocation {
  id   Int   @id @default(autoincrement())
  lat  Float
  lng  Float
  pubs Pub[]
}

model Rules {
  id                   Int    @id @default(autoincrement())
  isCueDeposit         String
  isJumpingAllowed     String
  isPoundOnTable       String
  isReservationAllowed String
  pubs                 Pub[]
}

model Table {
  id          Int     @id @default(autoincrement())
  size        String?
  quality     String?
  cost        Float?
  description String?
  pub         Pub     @relation(fields: [pubId], references: [id])
  pubId       Int
}

model Pub {
  id          Int         @id @default(autoincrement())
  name        String
  address     String
  description String
  locationId  Int
  location    MapLocation @relation(fields: [locationId], references: [id])
  rulesId     Int
  rules       Rules       @relation(fields: [rulesId], references: [id])
  tables      Table[]
  createdBy   String
  updatedBy   String[]
}
